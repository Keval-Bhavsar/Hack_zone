<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Event Hub </title>
    <style>

    </style>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="user.css">


</head>

<body>

    <nav class="user-dashboard-nav">
        <ul>
            <li><a href="#edit-profile">Edit My Profile</a></li>
            <li><a href="#my-devices">My Devices</a></li>
            <li><a href="#register-event">Register in Event</a></li>
        </ul>
        <div class="avatar-container"><a href="#user-profile"><img src="images/about-img.jpg" alt="User Avatar"></a>
        </div>
    </nav>

    <!-- Profile Photo Modal -->
    <div id="profilePhotoModal" class="modal">
        <div class="modal-content">
            <img src="images/about-img.jpg" alt="User Avatar" class="modal-avatar">
            <button id="deletePhotoBtn" class="delete-btn">Delete Photo</button>
        </div>
    </div>

    <section class="events-section">
        <section class="home-section">
            <div class="container">
                <h1>Welcome Dear User</h1>
            </div>
        </section>



        <div>
            <div class="profile-section">
                <div class="profile-display-card">
                    <img src="images/about-img.jpg" alt="User Avatar" class="profile-avatar">
                    <div class="profile-details">
                        <h3>John Doe</h3>
                        <p>Email: johndoe@example.com</p>
                        <p>Description: Short user bio goes here.</p>
                    </div>
                </div>
                <div class="edit-icon" onclick="toggleEditForm()">âœŽ</div>
            </div>

            <!-- Hidden Edit Form -->
            <div class="edit-form-container" id="editForm" style="display:none;">
                <input type="text" placeholder="Your Name" id="userName">
                <input type="email" placeholder="Your Email" id="userEmail">
                <div class="password-field">
                    <input type="password" placeholder="Password" id="userPassword">
                    <button type="button" onclick="togglePasswordVisibility()">Show</button>
                </div>
                <input type="text" placeholder="Image URL" id="userAvatarUrl">
                <textarea placeholder="Description" id="userDescription"></textarea>
                <button type="button" onclick="updateProfile()">Submit</button>
                <button type="button" onclick="toggleEditForm()">Cancel</button>
            </div>

            <div class="device-management-container">
                <!-- Device Card (Repeat for each device) -->
                <div class="device-card">
                    <h3>Device Name</h3>
                    <p>Description of the device...</p>
                    <button class="edit-btn" onclick="editDevice(0)">Edit </button>
                    <button class="delete-btn">Delete</button>
                </div>

                <!-- Special Card for Adding New Device -->
                <div class="add-device-card" onclick="toggleAddDeviceForm()">
                    <span class="add-icon">+</span>
                </div>
            </div>

            <!-- Hidden Form for Adding/Editing Device -->
            <div class="device-form-container" id="deviceFormContainer" style="display:none;">
                <input type="text" id="deviceName" placeholder="Device Name">
                <textarea id="deviceDescription" placeholder="Device Description"></textarea>
                <button type="button" onclick="submitDeviceForm()">Submit</button>
                <button type="button" onclick="toggleDeviceForm()">Cancel</button>
            </div>


            <!-- Device Registration Section -->
            <div class="device-registration-container">
                <h2>Register Device at an Event</h2>
                <select id="deviceSelect">
                    <!-- Options will be populated based on the devices array -->
                </select>
                <select id="eventSelect">
                    <option value="">Select an Event</option>
                    <option value="event1">Event 1</option>
                    <option value="event2">Event 2</option>
                    <!-- Add more events as needed -->
                </select>
                <button type="button" onclick="registerDevice()">Register</button>
            </div>


            <div class="devices-container" id="devices-container">
                <!-- Placeholder for Device Cards -->
                <div class="device-card">
                    <h3>Device Name 1</h3>
                    <p class="device-description">Device Description 1...</p>
                    <div class="device-actions">
                        <button class="edit-btn" onclick="editDevice(1)">Edit</button>
                        <button class="delete-btn" onclick="deleteDevice(1)">Delete</button>
                    </div>
                </div>
                <div class="device-card">
                    <h3>Device Name 2</h3>
                    <p class="device-description">Device Description 2...</p>
                    <div class="device-actions">
                        <button class="edit-btn" onclick="editDevice(2)">Edit</button>
                        <button class="delete-btn" onclick="deleteDevice(2)">Delete</button>
                    </div>
                </div>

                <!-- Add New Device Card -->
                <div class="device-card add-device" onclick="showDeviceForm()">+</div>
            </div>

            <!-- Device Creation/Edit Form (Hidden Initially) -->
            <div class="device-form-container" id="deviceForm">
                <form class="device-form" onsubmit="submitDeviceForm(); return false;">
                    <label for="deviceName">Device Name:</label>
                    <input type="text" id="deviceName" name="deviceName">

                    <label for="deviceDescription">Device Description:</label>
                    <textarea id="deviceDescription" name="deviceDescription"></textarea>

                    <label><input type="checkbox" id="deviceVisible" name="deviceVisible"> Visible</label>

                    <div class="form-actions">
                        <button type="submit">Submit</button>
                        <button type="button" onclick="hideDeviceForm()">Cancel</button>
                    </div>
                </form>
            </div>












            <!-- Device Management and Add Device Form as previously defined -->
<div>
            <!-- Published Event Cards Container -->
            <div class="events-container" id="publishedEventsContainer">
                <h2>Published Events</h2>
                <!-- Event Cards (These would be dynamically generated based on available events) -->
                <div class="event-card">
                    <h3>Event Title 1</h3>
                    <img src="images/g-1.jpg" alt="Event 1 Image" class="event-image">
                    <p class="event-time">Date & Time: March 30, 7:00 PM</p>
                    <p class="event-venue">Venue: Downtown Conference Center</p>
                    <p class="event-description">Join us for a night of learning and networking.</p>
                    <button onclick="registerDeviceForEvent(1)">Register Device</button>
                </div>
                <!-- Additional event cards -->
            </div>
        </div>




















            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const avatar = document.querySelector('.avatar-container img');
                    const modal = document.getElementById('profilePhotoModal');
                    const deleteBtn = document.getElementById('deletePhotoBtn');

                    // Show the modal when the avatar is clicked
                    avatar.addEventListener('click', () => {
                        modal.style.display = 'block';
                    });

                    // Close the modal on delete (or perform actual delete action)
                    deleteBtn.addEventListener('click', () => {
                        modal.style.display = 'none';
                        alert('Photo would be deleted!');
                        // Implement actual deletion logic here
                    });

                    // Click anywhere outside of the modal content to close it
                    window.onclick = (event) => {
                        if (event.target == modal) {
                            modal.style.display = 'none';
                        }
                    };
                });




                function toggleEditForm() {
                    const form = document.getElementById('editForm');
                    form.style.display = form.style.display === 'none' ? 'block' : 'none';
                }

                function togglePasswordVisibility() {
                    const passwordInput = document.getElementById('userPassword');
                    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                    passwordInput.setAttribute('type', type);
                }

                // Placeholder for updateProfile function
                function updateProfile() {
                    // Here, you'd collect form values and update the profile display card accordingly
                    // This part requires integration with your backend to truly update user data
                    alert('Profile updated! (Demo)');
                }







                function toggleAddDeviceForm() {
                    const formContainer = document.getElementById('deviceFormContainer');
                    formContainer.style.display = formContainer.style.display === 'none' ? 'block' : 'none';
                }

                function submitDeviceForm() {
                    // Placeholder for form submission logic
                    alert('Device submitted! (demo)');
                    toggleAddDeviceForm(); // Hide form after submission for demo purposes
                    // In a real application, you'd likely submit the form data to a server here
                }




                // Assuming a similar devices array and rendering logic as before

                function showDeviceForm(deviceId = null) {
                    if (deviceId) {
                        // Pre-fill form for editing existing device
                        // This part would need actual device data fetching logic
                        console.log(`Editing device ${deviceId}`);
                    } else {
                        // Clear the form for adding a new device
                        document.getElementById('deviceName').value = '';
                        document.getElementById('deviceDescription').value = '';
                        document.getElementById('deviceVisible').checked = false;
                    }
                    document.getElementById('deviceForm').style.display = 'block';
                }

                function hideDeviceForm() {
                    document.getElementById('deviceForm').style.display = 'none';
                }

                function submitDeviceForm() {
                    // Logic to handle form submission for adding or updating a device
                    // This would involve interacting with the backend in a real application
                    alert('Device submitted!');
                    hideDeviceForm();
                }

                function editDevice(deviceId) {
                    // Show device form pre-filled with device info (simulated here)
                    showDeviceForm(deviceId);
                }

                function deleteDevice(deviceId) {
                    // Logic to delete a device
                    // In a real application, this would involve a request to the backend
                    console.log(`Deleting device ${deviceId}`);
                    alert('Device deleted!');
                    // Refresh or update the device list display as needed
                }




                // Assuming existing JavaScript for device management

                // Example array of published events
                const events = [
                    { id: 1, title: 'Event Title 1', image: 'images/g-1.jpg', time: 'March 30, 7:00 PM', venue: 'Downtown Conference Center', description: 'Join us for a night of learning and networking.' },
                    // Add more events as needed
                ];

                function renderPublishedEvents() {
                    const container = document.getElementById('publishedEventsContainer');
                    events.forEach(event => {
                        const eventCard = document.createElement('div');
                        eventCard.classList.add('event-card');
                        eventCard.innerHTML = `
            <h3>${event.title}</h3>
            <img src="${event.image}" alt="Event Image" class="event-image">
            <p class="event-time">Date & Time: ${event.time}</p>
            <p class="event-venue">Venue: ${event.venue}</p>
            <p class="event-description">${event.description}</p>
            <button onclick="registerDeviceForEvent(${event.id})">Register Device</button>
        `;
                        container.appendChild(eventCard);
                    });
                }

                function registerDeviceForEvent(eventId) {
                    // Placeholder for registering a device for an event
                    // This would typically involve user input to select which device to register and sending data to the server
                    alert(`Registering device for Event ID: ${eventId}. This action will be handled by the backend.`);
                }

                document.addEventListener('DOMContentLoaded', () => {
                    renderPublishedEvents();
                    // Call other render functions as necessary
                });



            </script>
</body>

</html>